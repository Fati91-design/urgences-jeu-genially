<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Urgences – Avatar</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
html, body { background: transparent; color: white; }
.avatar {
  cursor: pointer;
  border-radius: 16px;
  transition: transform .15s, box-shadow .15s;
}
.avatar:hover {
  transform: scale(1.05);
  box-shadow: 0 0 0 4px rgba(255,165,0,.5);
}
</style>
</head>

<body class="container py-5 text-center">

<h3 class="mb-4">Choisissez votre avatar</h3>

<div class="row g-4 justify-content-center" id="avatars"></div>

<script>
const role = localStorage.getItem("role");

const avatars = {
  medecin: [
    "medecin_f.png",
    "medecin_f_voilee.png",
    "medecin_h.png"
  ],
  infirmier: [
    "infirmier_f.png",
    "infirmier_f_voilee.png",
    "infirmier_h.png"
  ],
  pompier: [
    "pompier_f.png",
    "pompier_f_voilee.png",
    "pompier_h.png"
  ]
};

const container = document.getElementById("avatars");

avatars[role].forEach(file => {
  const col = document.createElement("div");
  col.className = "col-md-3";
  col.innerHTML = `
    <img src="assets/avatars/${file}" class="img-fluid avatar"
         onclick="choose('${file}')">
  `;
  container.appendChild(col);
});

function choose(file) {
  localStorage.setItem("avatar", file);
  alert("Avatar sélectionné ! Cliquez sur Continuer dans Genially.");
  // ou window.location.href = "scene1.html";
}
</script>

</body>
</html>
