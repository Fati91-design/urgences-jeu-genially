<!-- =========================
     ✅ ACCUEIL.html (Genially 1980x1020)
     - ENREGISTRER + SUIVANT (désactivé tant que nom non enregistré)
     - Transition cinématique vers Regles.html (fade + glow)
     - (Bouton recommencer supprimé)
========================= -->
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Urgences – Accueil</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

<style>
  html, body { background: transparent; margin: 0; color: #fff; }

  /* ✅ Genially: 1980x1020 + scale auto */
  .genially-stage{ width:100vw; height:100vh; display:flex; align-items:center; justify-content:center; overflow:hidden; }
  .genially-page{ width:1980px; height:1020px; position:relative; transform-origin:center; }

  /* Ambiance */
  .fx-overlay{
    position:absolute; inset:0; pointer-events:none;
    background:
      radial-gradient(1200px 520px at 50% 18%, rgba(255,255,255,.12), transparent 55%),
      radial-gradient(900px 520px at 18% 82%, rgba(255,120,80,.09), transparent 60%),
      radial-gradient(900px 520px at 82% 82%, rgba(90,150,255,.11), transparent 60%),
      radial-gradient(1200px 900px at 50% 50%, transparent 60%, rgba(0,0,0,.42) 100%);
    filter: blur(.2px);
  }

  .page-wrap{
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    padding: 48px 64px;
  }
  .container{ max-width: 1360px; }

  /* Titre */
  .gameTitleWrap{ text-align:center; margin-bottom:20px; position:relative; isolation:isolate; }
  .titlePill{
    display:inline-flex; align-items:center; gap:10px;
    padding:14px 26px; border-radius:999px;
    background:rgba(0,0,0,.42); border:1px solid rgba(255,255,255,.16);
    backdrop-filter:blur(10px);
    box-shadow:0 22px 75px rgba(0,0,0,.40);
    letter-spacing:.20em; text-transform:uppercase; font-weight:900; font-size:18px;
    color:rgba(255,255,255,.90); margin-bottom:14px;
  }
  .gameTitle,.gameSubtitle{
    font-family:'Anton',sans-serif; text-transform:uppercase;
    font-size: 90px; line-height:.90; margin:0; letter-spacing:.04em;
  }
  .gameTitle{
    background: linear-gradient(180deg,#d7e9ff 0%,#86bfff 40%,#cfe3ff 100%);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow:0 14px 40px rgba(0,0,0,.60),0 0 65px rgba(120,190,255,.30);
    filter: drop-shadow(0 24px 75px rgba(0,0,0,.70));
  }
  .gameSubtitle{
    margin-top:10px; letter-spacing:.03em; color:rgba(255,255,255,.97);
    text-shadow:0 18px 46px rgba(0,0,0,.70),0 0 60px rgba(255,255,255,.10);
  }
  .gameTitleWrap::before{
    content:""; position:absolute; inset:-24px -20px -10px -20px;
    background: radial-gradient(closest-side, rgba(255,255,255,.12), transparent 72%);
    filter:blur(12px); opacity:.65; z-index:0; pointer-events:none;
  }

  /* Carte nom */
  .nameCard{
    margin:0 auto; width:min(980px,100%);
    background:rgba(0,0,0,.40);
    border:1px solid rgba(255,255,255,.18);
    border-radius:24px;
    padding:22px 22px;
    backdrop-filter:blur(12px);
    box-shadow:0 26px 110px rgba(0,0,0,.42);
  }
  .nameLabel{
    font-size:18px; letter-spacing:.14em; text-transform:uppercase; color:rgba(255,255,255,.82);
    margin:0 0 12px; font-weight:900; text-shadow:0 14px 50px rgba(0,0,0,.55);
    display:flex; align-items:center; gap:10px; justify-content:left;
  }
  .nameLabel .ico{
    width:38px; height:38px; border-radius:14px; display:grid; place-items:center;
    background:rgba(140,200,255,.12); border:1px solid rgba(140,200,255,.22);
    box-shadow:0 14px 40px rgba(0,0,0,.22); font-size:18px;
  }
  .nameInput{
    width:100%;
    border-radius:16px; border:1px solid rgba(255,255,255,.20);
    background:rgba(0,0,0,.34);
    color:#fff; padding:16px 18px; outline:none; font-size:20px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), 0 18px 60px rgba(0,0,0,.18);
  }
  .nameInput::placeholder{ color:rgba(255,255,255,.58); }

  .actionRow{
    display:flex; gap:14px; flex-wrap:wrap; margin-top:16px;
    justify-content:center; align-items:center;
  }

  .btnGlass{
    border-radius:999px;
    border:1px solid rgba(255,255,255,.24);
    background:rgba(0,0,0,.40);
    color:#fff;
    padding:16px 26px;
    font-weight:900;
    letter-spacing:.12em;
    text-transform:uppercase;
    font-size:15px;
    box-shadow:0 22px 85px rgba(0,0,0,.38);
    transition: transform .15s ease, filter .15s ease, box-shadow .15s ease, border-color .15s ease;
    display:inline-flex; align-items:center; gap:10px;
  }
  .btnGlass:hover{
    transform:translateY(-3px);
    filter:brightness(1.10);
    border-color:rgba(140,200,255,.55);
    box-shadow:0 34px 120px rgba(0,0,0,.55);
  }
  .btnGlass:disabled{ opacity:.45; cursor:not-allowed; transform:none; filter:none; }

  .bottomTag{
    margin-top:20px;
    text-align:center;
    font-weight:900;
    letter-spacing:.12em;
    text-transform:uppercase;
    font-size:18px;
    color:rgba(255,255,255,.88);
    text-shadow:0 18px 70px rgba(0,0,0,.70);
  }

  /* ✅ Transition cinématique */
  .cinematic{
    position:absolute; inset:0; pointer-events:none; opacity:0; z-index:9999;
    background:
      radial-gradient(1200px 520px at 50% 35%, rgba(140,200,255,.16), transparent 100%),
      radial-gradient(900px 520px at 65% 70%, rgba(255,165,0,.12), transparent 100%),
      rgba(0,0,0,.70);
    transition: opacity .55s ease;
  }
  .cinematic.on{ opacity:1; }

  .cinGlow{
    position:absolute; inset:-20%;
    background: radial-gradient(closest-side, rgba(140,200,255,.22), transparent 65%);
    filter: blur(18px);
    opacity:0;
    transform: scale(.92);
    transition: opacity .55s ease, transform .55s ease;
  }
  .cinematic.on .cinGlow{ opacity:.85; transform: scale(1.02); }

  .cinText{
    position:absolute; left:50%; top:50%;
    transform: translate(-50%,-50%) scale(.94);
    text-align:center;
    font-family:'Anton',sans-serif;
    letter-spacing:.08em;
    text-transform:uppercase;
    color:rgba(255,255,255,.92);
    opacity:0;
    transition: opacity .55s ease, transform .55s ease;
  }
  .cinematic.on .cinText{ opacity:1; transform: translate(-50%,-50%) scale(1); }
  .cinText .big{
    font-size:64px; line-height:1;
    background: linear-gradient(180deg,#d7e9ff 0%,#86bfff 40%,#cfe3ff 100%);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow:0 18px 60px rgba(0,0,0,.6);
  }
  .cinText .small{
    margin-top:10px; font-size:18px;
    letter-spacing:.22em; color:rgba(255,255,255,.78);
  }

  @media(max-width:900px){
    .page-wrap{ padding:28px 18px; }
    .titlePill{ font-size:14px; padding:10px 18px; }
    .nameCard{ width:min(820px,100%); padding:18px; }
    .nameLabel{ font-size:16px; }
    .bottomTag{ font-size:15px; }
  }

</style>
</head>

<body>
  <div class="genially-stage">
    <div class="genially-page" id="geniallyPage">
      <div class="fx-overlay"></div>

      <div class="page-wrap">
        <div class="container">

          <div class="gameTitleWrap">
            <div class="titlePill">MISSION • PREMIERS SECOURS</div>
            <h1 class="gameTitle">URGENCES</h1>
            <div class="gameSubtitle">AGIR POUR SAUVER</div>
          </div>

          <div class="nameCard">
            <p class="nameLabel">Votre nom</p>
            <input id="playerName" class="nameInput" type="text" placeholder="Entrez votre nom…" autocomplete="off" />
            <div class="actionRow">
              <button id="saveBtn" class="btnGlass" type="button">ENREGISTRER</button>
              <button id="nextBtn" class="btnGlass" type="button" disabled>SUIVANT</button>
            </div>
          </div>

          <div class="bottomTag">Chaque seconde compte — choisis. agis. sauve.</div>
        </div>
      </div>

      <!-- ✅ Transition overlay -->
      <div class="cinematic" id="cinematic">
        <div class="cinGlow"></div>
        <div class="cinText">
          <div class="big">CHARGEMENT…</div>
          <div class="small">PRÉPARE-TOI À AGIR</div>
        </div>
      </div>
    </div>
  </div>

<script>
  /* ✅ Scale auto pour Genially (1980x1020) */
  (function scaleGeniallyPage(){
    const page = document.getElementById('geniallyPage');
    function apply(){
      const sw = window.innerWidth / 1980;
      const sh = window.innerHeight / 1020;
      const s = Math.min(sw, sh);
      page.style.transform = `scale(${s})`;
    }
    window.addEventListener('resize', apply);
    apply();
  })();

  const playerName = document.getElementById("playerName");
  const saveBtn = document.getElementById("saveBtn");
  const nextBtn = document.getElementById("nextBtn");
  const cinematic = document.getElementById("cinematic");

  const savedName = localStorage.getItem("player_name") || localStorage.getItem("playerName");
  if (savedName) {
    playerName.value = savedName;
    nextBtn.disabled = false;
  }

  saveBtn.addEventListener("click", () => {
    const name = (playerName.value || "").trim();
    if (!name) { playerName.focus(); return; }
    localStorage.setItem("player_name", name);
    nextBtn.disabled = false;
  });

  nextBtn.addEventListener("click", () => {
    if (nextBtn.disabled) return;
    cinematic.classList.add("on");
    setTimeout(() => {
      window.location.href = "Regles.html";
    }, 520);
  });
</script>
</body>
</html>
